@import "tailwindcss";

/* Class-based dark mode (override default media-query) */
@custom-variant dark (&:where(.dark, .dark *));

/* ------------------------------------------------------------------ */
/* Base                                                                */
/* ------------------------------------------------------------------ */

@layer base {
  html {
    @apply antialiased;
  }

  body {
    @apply bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-100;
  }

  .dark {
    color-scheme: dark;
  }
}

/* ------------------------------------------------------------------ */
/* Components                                                          */
/* ------------------------------------------------------------------ */

@layer components {

  /* ---- Card ---- */
  .card {
    @apply bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm rounded-xl
           border border-gray-200/60 dark:border-gray-700/60
           shadow-[0_1px_3px_rgba(0,0,0,0.04),0_6px_24px_rgba(0,0,0,0.03)]
           dark:shadow-[0_1px_3px_rgba(0,0,0,0.2),0_6px_24px_rgba(0,0,0,0.15)]
           p-6 transition-shadow;
  }

  /* ---- Buttons ---- */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium
           rounded-lg transition-all duration-150
           focus:outline-none focus:ring-2 focus:ring-offset-2
           dark:focus:ring-offset-gray-900
           disabled:opacity-50 disabled:pointer-events-none;
  }

  .btn-primary {
    @apply bg-gradient-to-b from-blue-500 to-blue-600 text-white
           hover:from-blue-600 hover:to-blue-700
           shadow-[0_1px_2px_rgba(0,0,0,0.1),inset_0_1px_0_rgba(255,255,255,0.15)]
           focus:ring-blue-500;
  }

  .btn-secondary {
    @apply bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500
           dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600;
  }

  .btn-danger {
    @apply bg-gradient-to-b from-red-500 to-red-600 text-white
           hover:from-red-600 hover:to-red-700 focus:ring-red-500
           shadow-[0_1px_2px_rgba(0,0,0,0.1),inset_0_1px_0_rgba(255,255,255,0.15)];
  }

  /* ---- Inputs ---- */
  .input {
    @apply block w-full px-3 py-2 text-sm rounded-lg
           border border-gray-300 dark:border-gray-600
           bg-white dark:bg-gray-800
           text-gray-900 dark:text-gray-100
           placeholder-gray-400 dark:placeholder-gray-500
           shadow-sm
           focus:outline-none focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500
           dark:focus:ring-blue-400/40 dark:focus:border-blue-400;
  }

  .label {
    @apply block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1;
  }

  /* ---- Modal backdrop ---- */
  .modal-backdrop {
    @apply fixed inset-0 bg-gray-900/60 dark:bg-black/70 backdrop-blur-sm
           flex items-center justify-center p-4 z-50;
  }

  .modal-panel {
    @apply bg-white dark:bg-gray-900 rounded-xl shadow-2xl
           dark:shadow-black/40 border border-gray-200/60 dark:border-gray-700/60
           w-full p-6;
  }

  /* ---- Table ---- */
  .data-table {
    @apply bg-white dark:bg-gray-900 shadow dark:shadow-gray-900/30
           rounded-xl overflow-x-auto border border-gray-200/60 dark:border-gray-700/60;
  }

  .data-table thead {
    @apply bg-gray-50/80 dark:bg-gray-800/80;
  }

  .data-table th {
    @apply px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400
           uppercase tracking-wider;
  }

  .data-table tbody {
    @apply divide-y divide-gray-200 dark:divide-gray-700;
  }

  .data-table td {
    @apply px-6 py-4 whitespace-nowrap;
  }

  .data-table tr {
    @apply transition-colors hover:bg-blue-50/50 dark:hover:bg-gray-800/50;
  }

  /* ---- Filter bar ---- */
  .filter-bar {
    @apply mb-6 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm
           shadow dark:shadow-gray-900/30 rounded-xl p-4
           border border-gray-200/60 dark:border-gray-700/60;
  }

  .filter-input {
    @apply block w-full pl-10 pr-3 py-1.5 text-sm rounded-lg
           border border-gray-300 dark:border-gray-600
           bg-white dark:bg-gray-800
           text-gray-900 dark:text-gray-100
           placeholder-gray-400 dark:placeholder-gray-500
           focus:outline-none focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500;
  }

  .filter-select {
    @apply block px-3 py-1.5 text-sm rounded-lg
           border border-gray-300 dark:border-gray-600
           bg-white dark:bg-gray-800
           text-gray-900 dark:text-gray-100
           focus:outline-none focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500;
  }

  /* ---- Alert banners ---- */
  .alert-error {
    @apply mb-6 rounded-xl bg-red-50 dark:bg-red-900/30 p-4
           border border-red-200/60 dark:border-red-800/60;
  }

  .alert-error p {
    @apply text-sm font-medium text-red-800 dark:text-red-300;
  }

  .alert-success {
    @apply mb-4 rounded-xl bg-green-50 dark:bg-green-900/30 p-3
           border border-green-200/60 dark:border-green-800/60;
  }

  .alert-success p {
    @apply text-sm text-green-800 dark:text-green-300;
  }
}
