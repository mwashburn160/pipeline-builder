---
# =============================================================================
# JWT & Token Secrets
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: jwt-secret
  namespace: pipeline-builder
type: Opaque
stringData:
  JWT_SECRET: "1EXFSnwcl8TyeaDMBHFneIxnccCoxixuvfZlsd5+cJM="
  REFRESH_TOKEN_SECRET: "LA2eRmPbq9Oy+ZWNTi7FVaWCVPK4gzXFkfpjGivmpug="

---
# =============================================================================
# PostgreSQL Secrets
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: postgres-secret
  namespace: pipeline-builder
type: Opaque
stringData:
  POSTGRES_USER: "postgres"
  POSTGRES_PASSWORD: "password"
  DB_USER: "postgres"
  DB_PASSWORD: "password"

---
# =============================================================================
# MongoDB Secrets
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: mongodb-secret
  namespace: pipeline-builder
type: Opaque
stringData:
  MONGO_INITDB_ROOT_USERNAME: "mongo"
  MONGO_INITDB_ROOT_PASSWORD: "password"
  MONGODB_URI: "mongodb://mongo:password@mongodb:27017/platform?replicaSet=rs0&authSource=admin"

---
# =============================================================================
# Docker Registry Secrets
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: registry-secret
  namespace: pipeline-builder
type: Opaque
stringData:
  IMAGE_REGISTRY_USER: "admin"
  IMAGE_REGISTRY_TOKEN: "password"

---
# =============================================================================
# Admin UI Secrets
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: admin-secrets
  namespace: pipeline-builder
type: Opaque
stringData:
  # Mongo Express
  ME_CONFIG_BASICAUTH_USERNAME: "admin"
  ME_CONFIG_BASICAUTH_PASSWORD: "password"
  ME_CONFIG_MONGODB_ADMINUSERNAME: "mongo"
  ME_CONFIG_MONGODB_ADMINPASSWORD: "password"
  ME_CONFIG_MONGODB_URL: "mongodb://mongo:password@mongodb:27017/platform?replicaSet=rs0&authSource=admin"
  # pgAdmin
  PGADMIN_DEFAULT_EMAIL: "mwashburn160@gmail.com"
  PGADMIN_DEFAULT_PASSWORD: "password"
  # Grafana
  GF_SECURITY_ADMIN_PASSWORD: "admin"

---
# =============================================================================
# TLS Secret (nginx)
# =============================================================================
# NOTE: Replace with your actual TLS cert/key.
# Generate self-signed for local dev:
#   openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
#     -keyout nginx.key -out nginx.crt -subj "/CN=localhost"
#   kubectl create secret tls nginx-tls-secret \
#     --cert=nginx.crt --key=nginx.key -n pipeline-builder
apiVersion: v1
kind: Secret
metadata:
  name: nginx-tls-secret
  namespace: pipeline-builder
type: kubernetes.io/tls
stringData:
  tls.crt: "REPLACE_WITH_NGINX_CERT"
  tls.key: "REPLACE_WITH_NGINX_KEY"

---
# =============================================================================
# Registry TLS Secret
# =============================================================================
# NOTE: Replace with your actual registry TLS cert/key.
#   kubectl create secret tls registry-tls-secret \
#     --cert=registry.crt --key=registry.key -n pipeline-builder
apiVersion: v1
kind: Secret
metadata:
  name: registry-tls-secret
  namespace: pipeline-builder
type: kubernetes.io/tls
stringData:
  tls.crt: "REPLACE_WITH_REGISTRY_CERT"
  tls.key: "REPLACE_WITH_REGISTRY_KEY"

---
# =============================================================================
# Registry Auth Secret (htpasswd)
# =============================================================================
# NOTE: Replace with actual htpasswd content.
# Generate: htpasswd -Bbn admin password > registry.passwd
apiVersion: v1
kind: Secret
metadata:
  name: registry-auth-secret
  namespace: pipeline-builder
type: Opaque
stringData:
  registry.passwd: "REPLACE_WITH_HTPASSWD_CONTENT"
